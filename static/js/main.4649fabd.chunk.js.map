{"version":3,"sources":["wallet-adapters/ledger/core.ts","assets/bannergif.gif","assets/randomgif.gif","assets/logo.png","utils/utils.tsx","utils/fetch-loop.tsx","utils/connection.tsx","components/Link.js","utils/notifications.tsx","wallet-adapters/types.ts","wallet-adapters/ledger/index.tsx","wallet-adapters/phantom/index.tsx","wallet-adapters/solong/index.tsx","wallet-adapters/math/index.tsx","utils/wallet.tsx","wallet-adapters/sollet-extension/index.tsx","global_style.ts","components/ErrorBoundary.jsx","utils/send.tsx","pages/TradePage.tsx","components/CustomClusterEndpointDialog.tsx","components/LinkAddress.tsx","components/WalletConnect.tsx","components/TopBar.tsx","components/HelpUrls.ts","components/Footer.tsx","components/BasicLayout.js","routes.tsx","App.tsx","serviceWorker.js","index.js"],"names":["ledgerSend","transport","instruction","p1","payload","a","p2","payloadOffset","length","chunk","slice","console","log","toString","send","Error","reply","harden","n","getSolanaDerivationPath","account","change","undefined","derivationPath","Buffer","alloc","offset","writeUInt8","writeUInt32BE","signTransaction","transaction","messageBytes","serializeMessage","signBytes","bytes","numPaths","concat","getPublicKey","publicKeyBytes","PublicKey","module","exports","sleep","ms","Promise","resolve","setTimeout","Intl","NumberFormat","style","minimumFractionDigits","maximumFractionDigits","localStorageListeners","useLocalStorageStringState","key","defaultState","state","localStorage","getItem","useState","notify","useEffect","push","filter","listener","setState","useCallback","newState","removeItem","setItem","forEach","useLocalStorageState","JSON","stringify","stringState","setStringState","useMemo","parse","pageLoadTime","Date","globalCache","Map","FetchLoopInternal","cacheKey","fn","cacheNullValues","timeoutId","listeners","errors","refresh","clearTimeout","stopped","errored","data","set","notifyListeners","warn","waitTime","refreshInterval","refreshIntervalOnError","Math","min","timeSincePageLoad","document","visibilityState","hasFocus","random","this","Set","map","refreshIntervalsOnError","x","size","previousRefreshInterval","add","assert","delete","callback","loops","has","get","addListener","loop","removeListener","all","values","ENDPOINTS","name","endpoint","custom","ConnectionContext","React","createContext","ConnectionProvider","children","setEndpoint","customEndpoints","setCustomEndpoints","availableEndpoints","connection","Connection","sendConnection","id","onAccountChange","Account","publicKey","removeAccountChangeListener","onSlotChange","removeSlotChangeListener","Provider","value","useConnection","context","useContext","useConnectionConfig","endpointInfo","find","info","Link","external","props","to","rest","href","target","rel","message","description","txid","type","placement","color","notification","opacity","backgroundColor","DEFAULT_PUBLIC_KEY","EventEmitter","PhantomWalletAdapter","_handleConnect","args","emit","_handleDisconnect","connect","bind","window","solana","isPhantom","_provider","isConnected","autoApprove","transactions","signAllTransactions","open","on","disconnect","ASSET_URL","WALLET_PROVIDERS","url","icon","adapter","_","network","sollet","Wallet","WalletContext","WalletProvider","autoConnect","setAutoConnect","providerUrl","setProviderUrl","provider","wallet","setWallet","updateWallet","readyState","removeEventListener","addEventListener","connected","setConnected","walletPublicKey","toBase58","substring","isModalVisible","setIsModalVisible","select","close","providerName","title","okText","visible","okButtonProps","display","onCancel","width","onClick","alt","height","src","marginRight","textAlign","marginBottom","useWallet","setProvider","GlobalStyle","createGlobalStyle","Title","Typography","ErrorBoundary","hasError","level","error","Component","jAddy1","Transaction","SystemProgram","transfer","fromPubkey","toPubkey","lamports","sendTransaction","signers","sendingMessage","successMessage","getUnixTs","getTime","sentMessage","timeout","sendNotification","signedTransaction","sendSignedTransaction","getRecentBlockhash","recentBlockhash","blockhash","setSigners","s","partialSign","rawTransaction","serialize","startTime","sendRawTransaction","skipPreflight","done","awaitTransactionSignatureConfirmation","simulateResult","simulateTransaction","err","logs","i","line","startsWith","parsedErrorInfo","parseInstructionErrorResponse","parsedError","reject","onSignature","result","e","getSignatureStatuses","signatureStatuses","confirmations","resultDescription","AccountInfoResult","struct","executable","owner","rentEpoch","array","union","jsonRpcVersion","literal","jsonrpc","jsonRpcResult","slot","commitment","_recentBlockhash","_disableBlockhashCaching","signData","wireTransaction","_serialize","encodedTransaction","encoding","_rpcRequest","res","TradePage","TradePageInner","innerHeight","innerWidth","setDimensions","remaining","setRemaining","axios","then","response","handleResize","component","justifyContent","paddingTop","fontWeight","paddingBottom","randomgif","RenderNormal","bannergif","disabled","sendToMinter","CustomClusterEndpointDialog","testingConnection","onAddCustomEndpoint","onClose","customEndpoint","setCustomEndpoint","customEndpointName","setCustomEndpointName","onDoClose","canSubmit","onOk","loading","span","placeholder","onChange","addonBefore","LinkAddress","address","shorten","LinkOutlined","cursor","WalletConnect","menu","Item","Button","overlay","Wrapper","styled","div","LogoWrapper","EXTERNAL_LINKS","TopBar","addEndpointVisible","setAddEndpointVisible","setTestingConnection","location","useLocation","history","useHistory","handleClick","endpointInfoCustom","handler","some","handleError","getEpochInfo","newCustomEndpoints","catch","logo","mode","selectedKeys","pathname","borderBottom","alignItems","flex","align","paddingLeft","paddingRight","gutter","content","trigger","InfoCircleOutlined","onSelect","Option","SettingOutlined","helpUrls","Footer","Layout","footerElements","link","CustomFooter","elem","index","Header","Content","BasicLayout","Fragment","minHeight","flexDirection","padding","Routes","basename","exact","path","App","fallback","Boolean","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.4649fabd.chunk.js","sourcesContent":["import type Transport from '@ledgerhq/hw-transport';\r\nimport type { Transaction } from '@solana/web3.js';\r\n\r\nimport { PublicKey } from '@solana/web3.js';\r\n\r\nconst INS_GET_PUBKEY = 0x05;\r\nconst INS_SIGN_MESSAGE = 0x06;\r\n\r\nconst P1_NON_CONFIRM = 0x00;\r\nconst P1_CONFIRM = 0x01;\r\n\r\nconst P2_EXTEND = 0x01;\r\nconst P2_MORE = 0x02;\r\n\r\nconst MAX_PAYLOAD = 255;\r\n\r\nconst LEDGER_CLA = 0xe0;\r\n\r\n/*\r\n * Helper for chunked send of large payloads\r\n */\r\nasync function ledgerSend(\r\n  transport: Transport,\r\n  instruction: number,\r\n  p1: number,\r\n  payload: Buffer,\r\n) {\r\n  let p2 = 0;\r\n  let payloadOffset = 0;\r\n\r\n  if (payload.length > MAX_PAYLOAD) {\r\n    while (payload.length - payloadOffset > MAX_PAYLOAD) {\r\n      const chunk = payload.slice(payloadOffset, payloadOffset + MAX_PAYLOAD);\r\n      payloadOffset += MAX_PAYLOAD;\r\n      console.log(\r\n        'send',\r\n        (p2 | P2_MORE).toString(16),\r\n        chunk.length.toString(16),\r\n        chunk,\r\n      );\r\n      const reply = await transport.send(\r\n        LEDGER_CLA,\r\n        instruction,\r\n        p1,\r\n        p2 | P2_MORE,\r\n        chunk,\r\n      );\r\n      if (reply.length !== 2) {\r\n        throw new Error('Received unexpected reply payload');\r\n      }\r\n      p2 |= P2_EXTEND;\r\n    }\r\n  }\r\n\r\n  const chunk = payload.slice(payloadOffset);\r\n  console.log('send', p2.toString(16), chunk.length.toString(16), chunk);\r\n  const reply = await transport.send(LEDGER_CLA, instruction, p1, p2, chunk);\r\n\r\n  return reply.slice(0, reply.length - 2);\r\n}\r\n\r\nconst BIP32_HARDENED_BIT = (1 << 31) >>> 0;\r\nfunction harden(n: number = 0) {\r\n  return (n | BIP32_HARDENED_BIT) >>> 0;\r\n}\r\n\r\nexport function getSolanaDerivationPath(account?: number, change?: number) {\r\n  var length;\r\n  if (account !== undefined) {\r\n    if (change !== undefined) {\r\n      length = 4;\r\n    } else {\r\n      length = 3;\r\n    }\r\n  } else {\r\n    length = 2;\r\n  }\r\n\r\n  var derivationPath = Buffer.alloc(1 + length * 4);\r\n  // eslint-disable-next-line\r\n  var offset = 0;\r\n  offset = derivationPath.writeUInt8(length, offset);\r\n  offset = derivationPath.writeUInt32BE(harden(44), offset); // Using BIP44\r\n  offset = derivationPath.writeUInt32BE(harden(501), offset); // Solana's BIP44 path\r\n\r\n  if (length > 2) {\r\n    offset = derivationPath.writeUInt32BE(harden(account), offset);\r\n    if (length === 4) {\r\n      // @FIXME: https://github.com/project-serum/spl-token-wallet/issues/59\r\n      offset = derivationPath.writeUInt32BE(harden(change), offset);\r\n    }\r\n  }\r\n\r\n  return derivationPath;\r\n}\r\n\r\nexport async function signTransaction(\r\n  transport: Transport,\r\n  transaction: Transaction,\r\n  derivationPath: Buffer = getSolanaDerivationPath(),\r\n) {\r\n  const messageBytes = transaction.serializeMessage();\r\n  return signBytes(transport, messageBytes, derivationPath);\r\n}\r\n\r\nexport async function signBytes(\r\n  transport: Transport,\r\n  bytes: Buffer,\r\n  derivationPath: Buffer = getSolanaDerivationPath(),\r\n) {\r\n  const numPaths = Buffer.alloc(1);\r\n  numPaths.writeUInt8(1, 0);\r\n\r\n  const payload = Buffer.concat([numPaths, derivationPath, bytes]);\r\n\r\n  // @FIXME: must enable blind signing in Solana Ledger App per https://github.com/project-serum/spl-token-wallet/issues/71\r\n  // See also https://github.com/project-serum/spl-token-wallet/pull/23#issuecomment-712317053\r\n  return ledgerSend(transport, INS_SIGN_MESSAGE, P1_CONFIRM, payload);\r\n}\r\n\r\nexport async function getPublicKey(\r\n  transport: Transport,\r\n  derivationPath: Buffer = getSolanaDerivationPath(),\r\n) {\r\n  const publicKeyBytes = await ledgerSend(\r\n    transport,\r\n    INS_GET_PUBKEY,\r\n    P1_NON_CONFIRM,\r\n    derivationPath,\r\n  );\r\n\r\n  return new PublicKey(publicKeyBytes);\r\n}\r\n","module.exports = __webpack_public_path__ + \"static/media/bannergif.aa95e21c.gif\";","module.exports = __webpack_public_path__ + \"static/media/randomgif.da6a2e08.gif\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAS/SURBVHhe7dyx669THMDx7/O93fufGJQMGO5kUgYZZCAlSjIYGIURGclg0B10F3dhYEDpppBEyWIwUUpK9nsHvr96xkd99X1Ov57f+/Wq0z3beTr33nef4fSd7vrx0392QNJ+/hMIEgAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIm+757nNPgSHKBABhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBh09Wvv/ASEKJMABAmABAmABAmABAmABAmABAmABAmABAmABAmABA23X/zpqfAEGUCgDABgDABgDABgDABgDABgDABgDABgDABgDABgLDpgc++9BQYokwAECYAECYAECYAECYAECYAECYAECYAECYAEDY99PFXXgJClAkAwgQAwgQAwgQAwgQAwgQAwgQAwgQAwgQAwgQAwqZHPvrGU2CIMgFAmABAmABAmABAmABAmABAmABAmABAmABAmABA2PTYB98e/RT4xuNX513T4a7m3Xrc6XbudMS3njcTAIQJAIQJAIQJAIQJAIQJAIQJAIQJAIQJAIRNT77//dEvAa8/dd+8azrc1bxbjzvdzp2O+NbzZgKAMAGAMAGAMAGAMAGAMAGAMAGAMAGAMAGAMAGAsOmZ9344+inwtWfvnXfrOZw/75q2dKdb+dYR33nmIv5bNQFAmABAmABAmABAmABAmABAmABAmABAmABAmABA2P7y7f3u2DXC0jmlNcLSOWusEZbOOXWNsnTW1pcJAMIEAMIEAMIEAMIEAMIEAMIEAMIEAMIEAMKmF9766egfBX37xbvnXdPhrubdekbc6YjvPLOVbx3173TUvZ4nEwCECQCECQCECQCECQCECQCECQCECQCECQCECQCE7a/c2u+OXXVLd3LqGmHpnDXWCEvnnLpGWTpr68v/aggTAAgTAAgTAAgTAAgTAAgTAAgTAAgTAAgTAAibXnnt56N/FXgrXn/1znm3rsNdzbv1jPjWEd95ZivfuqW///NmAoAwAYAwAYAwAYAwAYAwAYAwAYAwAYAwAYCw/eVbl3YXbY2ydNapa4Slc9ZYIyydc+oaZemsrS8TAIQJAIQJAIQJAIQJAIQJAIQJAIQJAIQJAIQJAIRNb7z0y9E/Cvrym3fMu6bDXc279bhTd7q2/3OnJgAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAI21+5fWl37KpbupNTV93SnZy66pbu5L+WCQDCBADCBADCBADCBADCBADCBADCBADCBADCpnee//XoHwUFLhYTAIQJAIQJAIQJAIQJAIQJAIQJAIQJAIQJAIQJAIRN7z73m6fAEGUCgDABgDABgDABgDABgDABgDABgDABgDABgDABgLDp2tO/ewoMUSYACBMACBMACBMACBMACBMACBMACBMACBMACJuuP/GHl4AQZQKAMAGAMAGAMAGAMAGAMAGAMAGAMAGAMAGAMAGAsOnGo396CgxRJgAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAImz58+C9PgSHKBABhAgBhAgBhAgBhAgBhAgBhAgBhAgBhAgBh0ycP/u0lIESZACBMACBMACBMACBMACBMACBMACBMACBMACBMACBrt/sXmM2S4SHv/1wAAAAASUVORK5CYII=\"","import { useCallback, useEffect, useMemo, useState } from 'react';\r\nimport { PublicKey } from '@solana/web3.js';\r\nimport BN from 'bn.js';\r\n\r\nexport function isValidPublicKey(key) {\r\n  if (!key) {\r\n    return false;\r\n  }\r\n  try {\r\n    new PublicKey(key);\r\n    return true;\r\n  } catch {\r\n    return false;\r\n  }\r\n}\r\n\r\nexport async function sleep(ms) {\r\n  return new Promise((resolve) => setTimeout(resolve, ms));\r\n}\r\n\r\nexport const percentFormat = new Intl.NumberFormat(undefined, {\r\n  style: 'percent',\r\n  minimumFractionDigits: 2,\r\n  maximumFractionDigits: 2,\r\n});\r\n\r\nexport function floorToDecimal(\r\n  value: number,\r\n  decimals: number | undefined | null,\r\n) {\r\n  return decimals\r\n    ? Math.floor(value * 10 ** decimals) / 10 ** decimals\r\n    : Math.floor(value);\r\n}\r\n\r\nexport function roundToDecimal(\r\n  value: number,\r\n  decimals: number | undefined | null,\r\n) {\r\n  return decimals ? Math.round(value * 10 ** decimals) / 10 ** decimals : value;\r\n}\r\n\r\nexport function getDecimalCount(value): number {\r\n  if (\r\n    !isNaN(value) &&\r\n    Math.floor(value) !== value &&\r\n    value.toString().includes('.')\r\n  )\r\n    return value.toString().split('.')[1].length || 0;\r\n  if (\r\n    !isNaN(value) &&\r\n    Math.floor(value) !== value &&\r\n    value.toString().includes('e')\r\n  )\r\n    return parseInt(value.toString().split('e-')[1] || '0');\r\n  return 0;\r\n}\r\n\r\nexport function divideBnToNumber(numerator: BN, denominator: BN): number {\r\n  const quotient = numerator.div(denominator).toNumber();\r\n  const rem = numerator.umod(denominator);\r\n  const gcd = rem.gcd(denominator);\r\n  return quotient + rem.div(gcd).toNumber() / denominator.div(gcd).toNumber();\r\n}\r\n\r\nexport function getTokenMultiplierFromDecimals(decimals: number): BN {\r\n  return new BN(10).pow(new BN(decimals));\r\n}\r\n\r\nconst localStorageListeners = {};\r\n\r\nexport function useLocalStorageStringState(\r\n  key: string,\r\n  defaultState: string | null = null,\r\n): [string | null, (newState: string | null) => void] {\r\n  const state = localStorage.getItem(key) || defaultState;\r\n\r\n  const [, notify] = useState(key + '\\n' + state);\r\n\r\n  useEffect(() => {\r\n    if (!localStorageListeners[key]) {\r\n      localStorageListeners[key] = [];\r\n    }\r\n    localStorageListeners[key].push(notify);\r\n    return () => {\r\n      localStorageListeners[key] = localStorageListeners[key].filter(\r\n        (listener) => listener !== notify,\r\n      );\r\n      if (localStorageListeners[key].length === 0) {\r\n        delete localStorageListeners[key];\r\n      }\r\n    };\r\n  }, [key]);\r\n\r\n  const setState = useCallback<(newState: string | null) => void>(\r\n    (newState) => {\r\n      const changed = state !== newState;\r\n      if (!changed) {\r\n        return;\r\n      }\r\n\r\n      if (newState === null) {\r\n        localStorage.removeItem(key);\r\n      } else {\r\n        localStorage.setItem(key, newState);\r\n      }\r\n      localStorageListeners[key].forEach((listener) =>\r\n        listener(key + '\\n' + newState),\r\n      );\r\n    },\r\n    [state, key],\r\n  );\r\n\r\n  return [state, setState];\r\n}\r\n\r\nexport function useLocalStorageState<T = any>(\r\n  key: string,\r\n  defaultState: T | null = null,\r\n): [T, (newState: T) => void] {\r\n  let [stringState, setStringState] = useLocalStorageStringState(\r\n    key,\r\n    JSON.stringify(defaultState),\r\n  );\r\n  return [\r\n    useMemo(() => stringState && JSON.parse(stringState), [stringState]),\r\n    (newState) => setStringState(JSON.stringify(newState)),\r\n  ];\r\n}\r\n\r\nexport function useEffectAfterTimeout(effect, timeout) {\r\n  useEffect(() => {\r\n    const handle = setTimeout(effect, timeout);\r\n    return () => clearTimeout(handle);\r\n  });\r\n}\r\n\r\nexport function useListener(emitter, eventName) {\r\n  const [, forceUpdate] = useState(0);\r\n  useEffect(() => {\r\n    const listener = () => forceUpdate((i) => i + 1);\r\n    emitter.on(eventName, listener);\r\n    return () => emitter.removeListener(eventName, listener);\r\n  }, [emitter, eventName]);\r\n}\r\n\r\nexport function abbreviateAddress(address: PublicKey, size = 4) {\r\n  const base58 = address.toBase58();\r\n  return base58.slice(0, size) + 'â€¦' + base58.slice(-size);\r\n}\r\n\r\nexport function isEqual(obj1, obj2, keys) {\r\n  if (!keys && Object.keys(obj1).length !== Object.keys(obj2).length) {\r\n    return false;\r\n  }\r\n  keys = keys || Object.keys(obj1);\r\n  for (const k of keys) {\r\n    if (obj1[k] !== obj2[k]) {\r\n      // shallow comparison\r\n      return false;\r\n    }\r\n  }\r\n  return true;\r\n}\r\n","import { useEffect, useReducer } from 'react';\r\n\r\nimport assert from 'assert';\r\n\r\nconst pageLoadTime = new Date();\r\n\r\nconst globalCache: Map<any, any> = new Map();\r\n\r\nclass FetchLoopListener<T = any> {\r\n  cacheKey: any;\r\n  fn: () => Promise<T>;\r\n  refreshInterval: number;\r\n  refreshIntervalOnError: number | null;\r\n  callback: () => void;\r\n  cacheNullValues: Boolean = true;\r\n\r\n  constructor(\r\n    cacheKey: any,\r\n    fn: () => Promise<T>,\r\n    refreshInterval: number,\r\n    refreshIntervalOnError: number | null,\r\n    callback: () => void,\r\n    cacheNullValues: Boolean,\r\n  ) {\r\n    this.cacheKey = cacheKey;\r\n    this.fn = fn;\r\n    this.refreshInterval = refreshInterval;\r\n    this.refreshIntervalOnError = refreshIntervalOnError;\r\n    this.callback = callback;\r\n    this.cacheNullValues = cacheNullValues;\r\n  }\r\n}\r\n\r\nclass FetchLoopInternal<T = any> {\r\n  cacheKey: any;\r\n  fn: () => Promise<T>;\r\n  timeoutId: null | any;\r\n  listeners: Set<FetchLoopListener<T>>;\r\n  errors: number;\r\n  cacheNullValues: Boolean = true;\r\n\r\n  constructor(cacheKey: any, fn: () => Promise<T>, cacheNullValues: Boolean) {\r\n    this.cacheKey = cacheKey;\r\n    this.fn = fn;\r\n    this.timeoutId = null;\r\n    this.listeners = new Set();\r\n    this.errors = 0;\r\n    this.cacheNullValues = cacheNullValues;\r\n  }\r\n\r\n  get refreshInterval(): number {\r\n    return Math.min(\r\n      ...[...this.listeners].map((listener) => listener.refreshInterval),\r\n    );\r\n  }\r\n\r\n  get refreshIntervalOnError(): number | null {\r\n    const refreshIntervalsOnError: number[] = [...this.listeners]\r\n      .map((listener) => listener.refreshIntervalOnError)\r\n      .filter((x): x is number => x !== null);\r\n    if (refreshIntervalsOnError.length === 0) {\r\n      return null;\r\n    }\r\n    return Math.min(...refreshIntervalsOnError);\r\n  }\r\n\r\n  get stopped(): boolean {\r\n    return this.listeners.size === 0;\r\n  }\r\n\r\n  addListener(listener: FetchLoopListener<T>): void {\r\n    const previousRefreshInterval = this.refreshInterval;\r\n    this.listeners.add(listener);\r\n    if (this.refreshInterval < previousRefreshInterval) {\r\n      this.refresh();\r\n    }\r\n  }\r\n\r\n  removeListener(listener: FetchLoopListener<T>): void {\r\n    assert(this.listeners.delete(listener));\r\n    if (this.stopped) {\r\n      if (this.timeoutId) {\r\n        clearTimeout(this.timeoutId);\r\n        this.timeoutId = null;\r\n      }\r\n    }\r\n  }\r\n\r\n  notifyListeners(): void {\r\n    this.listeners.forEach((listener) => listener.callback());\r\n  }\r\n\r\n  refresh = async () => {\r\n    if (this.timeoutId) {\r\n      clearTimeout(this.timeoutId);\r\n      this.timeoutId = null;\r\n    }\r\n    if (this.stopped) {\r\n      return;\r\n    }\r\n\r\n    let errored = false;\r\n    try {\r\n      const data = await this.fn();\r\n      if (!this.cacheNullValues && data === null) {\r\n        console.log(`Not caching null value for ${this.cacheKey}`);\r\n        // cached data has not changed so no need to re-render\r\n        this.errors = 0;\r\n        return data;\r\n      } else {\r\n        globalCache.set(this.cacheKey, data);\r\n        this.errors = 0;\r\n        this.notifyListeners();\r\n        return data;\r\n      }\r\n    } catch (error) {\r\n      ++this.errors;\r\n      console.warn(error);\r\n      errored = true;\r\n    } finally {\r\n      if (!this.timeoutId && !this.stopped) {\r\n        let waitTime = this.refreshInterval;\r\n        if (\r\n          errored &&\r\n          this.refreshIntervalOnError &&\r\n          this.refreshIntervalOnError > 0\r\n        ) {\r\n          waitTime = this.refreshIntervalOnError;\r\n        }\r\n\r\n        // Back off on errors.\r\n        if (this.errors > 0) {\r\n          waitTime = Math.min(1000 * 2 ** (this.errors - 1), 60000);\r\n        }\r\n\r\n        // Don't do any refreshing for the first five seconds, to make way for other things to load.\r\n        const timeSincePageLoad = +new Date() - +pageLoadTime;\r\n        if (timeSincePageLoad < 5000) {\r\n          waitTime += 5000 - timeSincePageLoad / 2;\r\n        }\r\n\r\n        // Refresh background pages slowly.\r\n        if (document.visibilityState === 'hidden') {\r\n          waitTime = 60000;\r\n        } else if (!document.hasFocus()) {\r\n          waitTime *= 1.5;\r\n        }\r\n\r\n        // Add jitter so we don't send all requests at the same time.\r\n        waitTime *= 0.8 + 0.4 * Math.random();\r\n\r\n        this.timeoutId = setTimeout(this.refresh, waitTime);\r\n      }\r\n    }\r\n  };\r\n}\r\n\r\nclass FetchLoops {\r\n  loops = new Map();\r\n\r\n  addListener<T>(listener: FetchLoopListener<T>) {\r\n    if (!this.loops.has(listener.cacheKey)) {\r\n      this.loops.set(\r\n        listener.cacheKey,\r\n        new FetchLoopInternal<T>(\r\n          listener.cacheKey,\r\n          listener.fn,\r\n          listener.cacheNullValues,\r\n        ),\r\n      );\r\n    }\r\n    this.loops.get(listener.cacheKey).addListener(listener);\r\n  }\r\n\r\n  removeListener<T>(listener: FetchLoopListener<T>) {\r\n    const loop = this.loops.get(listener.cacheKey);\r\n    loop.removeListener(listener);\r\n    if (loop.stopped) {\r\n      this.loops.delete(listener.cacheKey);\r\n      globalCache.delete(listener.cacheKey);\r\n    }\r\n  }\r\n\r\n  refresh(cacheKey) {\r\n    if (this.loops.has(cacheKey)) {\r\n      this.loops.get(cacheKey).refresh();\r\n    }\r\n  }\r\n\r\n  refreshAll() {\r\n    return Promise.all([...this.loops.values()].map((loop) => loop.refresh()));\r\n  }\r\n}\r\nconst globalLoops = new FetchLoops();\r\n\r\nexport function useAsyncData<T = any>(\r\n  asyncFn: () => Promise<T>,\r\n  cacheKey: any,\r\n  { refreshInterval = 60000, refreshIntervalOnError = null } = {},\r\n  cacheNullValues: Boolean = true,\r\n): [null | undefined | T, boolean] {\r\n  const [, rerender] = useReducer((i) => i + 1, 0);\r\n\r\n  useEffect(() => {\r\n    if (!cacheKey) {\r\n      // eslint-disable-next-line @typescript-eslint/no-empty-function\r\n      return () => {};\r\n    }\r\n    const listener = new FetchLoopListener<T>(\r\n      cacheKey,\r\n      asyncFn,\r\n      refreshInterval,\r\n      refreshIntervalOnError,\r\n      rerender,\r\n      cacheNullValues,\r\n    );\r\n    globalLoops.addListener(listener);\r\n    return () => globalLoops.removeListener(listener);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [cacheKey, refreshInterval]);\r\n\r\n  if (!cacheKey) {\r\n    return [null, false];\r\n  }\r\n\r\n  const loaded = globalCache.has(cacheKey);\r\n  const data = loaded ? globalCache.get(cacheKey) : undefined;\r\n  return [data, loaded];\r\n}\r\n\r\nexport function refreshCache(cacheKey: any, clearCache = false): void {\r\n  if (clearCache) {\r\n    globalCache.delete(cacheKey);\r\n  }\r\n  const loop = globalLoops.loops.get(cacheKey);\r\n  if (loop) {\r\n    loop.refresh();\r\n    if (clearCache) {\r\n      loop.notifyListeners();\r\n    }\r\n  }\r\n}\r\n\r\nexport function refreshAllCaches(): void {\r\n  for (const loop of globalLoops.loops.values()) {\r\n    loop.refresh();\r\n  }\r\n}\r\n\r\nexport function setCache(\r\n  cacheKey: any,\r\n  value: any,\r\n  { initializeOnly = false } = {},\r\n): void {\r\n  if (initializeOnly && globalCache.has(cacheKey)) {\r\n    return;\r\n  }\r\n  globalCache.set(cacheKey, value);\r\n  const loop = globalLoops.loops.get(cacheKey);\r\n  if (loop) {\r\n    loop.notifyListeners();\r\n  }\r\n}\r\n\r\nexport function getCache(\r\n  cacheKey: any\r\n) {\r\n  return globalCache.get(cacheKey);\r\n}\r\n","import { useLocalStorageState } from './utils';\r\nimport { Account, AccountInfo, Connection, PublicKey } from '@solana/web3.js';\r\nimport React, { useContext, useEffect, useMemo, useRef } from 'react';\r\nimport { setCache, useAsyncData } from './fetch-loop';\r\nimport tuple from 'immutable-tuple';\r\nimport { ConnectionContextValues, EndpointInfo } from './types';\r\n\r\nexport const ENDPOINTS: EndpointInfo[] = [\r\n  {\r\n    name: 'mainnet-beta',\r\n    endpoint: 'https://solana-api.projectserum.com',\r\n    custom: false,\r\n  },\r\n  { name: 'localnet', endpoint: 'http://127.0.0.1:8899', custom: false },\r\n];\r\n\r\nconst accountListenerCount = new Map();\r\n\r\nconst ConnectionContext: React.Context<null | ConnectionContextValues> = React.createContext<null | ConnectionContextValues>(\r\n  null,\r\n);\r\n\r\nexport function ConnectionProvider({ children }) {\r\n  const [endpoint, setEndpoint] = useLocalStorageState<string>(\r\n    'connectionEndpts',\r\n    ENDPOINTS[0].endpoint,\r\n  );\r\n  const [customEndpoints, setCustomEndpoints] = useLocalStorageState<\r\n    EndpointInfo[]\r\n  >('customConnectionEndpoints', []);\r\n  const availableEndpoints = ENDPOINTS.concat(customEndpoints);\r\n\r\n  const connection = useMemo(() => new Connection(endpoint, 'recent'), [\r\n    endpoint,\r\n  ]);\r\n  const sendConnection = useMemo(() => new Connection(endpoint, 'recent'), [\r\n    endpoint,\r\n  ]);\r\n\r\n  // The websocket library solana/web3.js uses closes its websocket connection when the subscription list\r\n  // is empty after opening its first time, preventing subsequent subscriptions from receiving responses.\r\n  // This is a hack to prevent the list from every getting empty\r\n  useEffect(() => {\r\n    const id = connection.onAccountChange(new Account().publicKey, () => {});\r\n    return () => {\r\n      connection.removeAccountChangeListener(id);\r\n    };\r\n  }, [connection]);\r\n\r\n  useEffect(() => {\r\n    const id = connection.onSlotChange(() => null);\r\n    return () => {\r\n      connection.removeSlotChangeListener(id);\r\n    };\r\n  }, [connection]);\r\n\r\n  useEffect(() => {\r\n    const id = sendConnection.onAccountChange(\r\n      new Account().publicKey,\r\n      () => {},\r\n    );\r\n    return () => {\r\n      sendConnection.removeAccountChangeListener(id);\r\n    };\r\n  }, [sendConnection]);\r\n\r\n  useEffect(() => {\r\n    const id = sendConnection.onSlotChange(() => null);\r\n    return () => {\r\n      sendConnection.removeSlotChangeListener(id);\r\n    };\r\n  }, [sendConnection]);\r\n\r\n  return (\r\n    <ConnectionContext.Provider\r\n      value={{\r\n        endpoint,\r\n        setEndpoint,\r\n        connection,\r\n        sendConnection,\r\n        availableEndpoints,\r\n        setCustomEndpoints,\r\n      }}\r\n    >\r\n      {children}\r\n    </ConnectionContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useConnection() {\r\n  const context = useContext(ConnectionContext);\r\n  if (!context) {\r\n    throw new Error('Missing connection context');\r\n  }\r\n  return context.connection;\r\n}\r\n\r\nexport function useSendConnection() {\r\n  const context = useContext(ConnectionContext);\r\n  if (!context) {\r\n    throw new Error('Missing connection context');\r\n  }\r\n  return context.sendConnection;\r\n}\r\n\r\nexport function useConnectionConfig() {\r\n  const context = useContext(ConnectionContext);\r\n  if (!context) {\r\n    throw new Error('Missing connection context');\r\n  }\r\n  return {\r\n    endpoint: context.endpoint,\r\n    endpointInfo: context.availableEndpoints.find(\r\n      (info) => info.endpoint === context.endpoint,\r\n    ),\r\n    setEndpoint: context.setEndpoint,\r\n    availableEndpoints: context.availableEndpoints,\r\n    setCustomEndpoints: context.setCustomEndpoints,\r\n  };\r\n}\r\n\r\nexport function useAccountInfo(\r\n  publicKey: PublicKey | undefined | null,\r\n): [AccountInfo<Buffer> | null | undefined, boolean] {\r\n  const connection = useConnection();\r\n  const cacheKey = tuple(connection, publicKey?.toBase58());\r\n  const [accountInfo, loaded] = useAsyncData<AccountInfo<Buffer> | null>(\r\n    async () => (publicKey ? connection.getAccountInfo(publicKey) : null),\r\n    cacheKey,\r\n    { refreshInterval: 60_000 },\r\n  );\r\n  useEffect(() => {\r\n    if (!publicKey) {\r\n      return;\r\n    }\r\n    if (accountListenerCount.has(cacheKey)) {\r\n      let currentItem = accountListenerCount.get(cacheKey);\r\n      ++currentItem.count;\r\n    } else {\r\n      let previousInfo: AccountInfo<Buffer> | null = null;\r\n      const subscriptionId = connection.onAccountChange(publicKey, (info) => {\r\n        if (\r\n          !previousInfo ||\r\n          !previousInfo.data.equals(info.data) ||\r\n          previousInfo.lamports !== info.lamports\r\n        ) {\r\n          previousInfo = info;\r\n          setCache(cacheKey, info);\r\n        }\r\n      });\r\n      accountListenerCount.set(cacheKey, { count: 1, subscriptionId });\r\n    }\r\n    return () => {\r\n      let currentItem = accountListenerCount.get(cacheKey);\r\n      let nextCount = currentItem.count - 1;\r\n      if (nextCount <= 0) {\r\n        connection.removeAccountChangeListener(currentItem.subscriptionId);\r\n        accountListenerCount.delete(cacheKey);\r\n      } else {\r\n        --currentItem.count;\r\n      }\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [cacheKey]);\r\n  const previousInfoRef = useRef<AccountInfo<Buffer> | null | undefined>(null);\r\n  if (\r\n    !accountInfo ||\r\n    !previousInfoRef.current ||\r\n    !previousInfoRef.current.data.equals(accountInfo.data) ||\r\n    previousInfoRef.current.lamports !== accountInfo.lamports\r\n  ) {\r\n    previousInfoRef.current = accountInfo;\r\n  }\r\n  return [previousInfoRef.current, loaded];\r\n}\r\n\r\nexport function useAccountData(publicKey) {\r\n  const [accountInfo] = useAccountInfo(publicKey);\r\n  return accountInfo && accountInfo.data;\r\n}\r\n","import React from 'react';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\n\r\nexport default function Link({ external = false, ...props }) {\r\n  let { to, children, ...rest } = props;\r\n  if (external) {\r\n    return (\r\n      <a href={to} target=\"_blank\" rel=\"noopener noreferrer\" {...rest}>\r\n        {children}\r\n      </a>\r\n    );\r\n  }\r\n  return (\r\n    <RouterLink to={to} {...rest}>\r\n      {children}\r\n    </RouterLink>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { notification } from 'antd';\r\nimport Link from '../components/Link';\r\n\r\nexport function notify({\r\n  message,\r\n  description,\r\n  txid,\r\n  type = 'info',\r\n  placement = 'bottomLeft',\r\n}: {\r\n  message: string;\r\n  description?: string | JSX.Element;\r\n  txid?: string;\r\n  type?: string;\r\n  placement?: string;\r\n}) {\r\n  if (txid) {\r\n    description = (\r\n      <Link\r\n        external\r\n        to={'https://explorer.solana.com/tx/' + txid}\r\n        style={{ color: '#0000ff' }}\r\n      >\r\n        View transaction {txid.slice(0, 8)}...{txid.slice(txid.length - 8)}\r\n      </Link>\r\n    );\r\n  }\r\n  notification[type]({\r\n    message: <span style={{ color: 'black' }}>{message}</span>,\r\n    description: (\r\n      <span style={{ color: 'black', opacity: 0.5 }}>{description}</span>\r\n    ),\r\n    placement,\r\n    style: {\r\n      backgroundColor: 'white',\r\n    },\r\n  });\r\n}\r\n","import { PublicKey, Transaction } from '@solana/web3.js';\r\n\r\nexport const DEFAULT_PUBLIC_KEY = new PublicKey(\r\n  '11111111111111111111111111111111',\r\n);\r\n\r\nexport interface WalletAdapter {\r\n  publicKey: PublicKey;\r\n  autoApprove: boolean;\r\n  connected: boolean;\r\n  signTransaction: (transaction: Transaction) => Promise<Transaction>;\r\n  signAllTransactions: (transaction: Transaction[]) => Promise<Transaction[]>;\r\n  connect: () => any;\r\n  disconnect: () => any;\r\n  on<T>(event: string, fn: () => void): this;\r\n}\r\n","import type Transport from '@ledgerhq/hw-transport';\r\nimport type { Transaction } from '@solana/web3.js';\r\n\r\nimport EventEmitter from 'eventemitter3';\r\nimport { PublicKey } from '@solana/web3.js';\r\nimport TransportWebUSB from '@ledgerhq/hw-transport-webusb';\r\nimport { notify } from '../../utils/notifications';\r\nimport { getPublicKey, signTransaction } from './core';\r\nimport { DEFAULT_PUBLIC_KEY, WalletAdapter } from '../types';\r\n\r\nexport class LedgerWalletAdapter extends EventEmitter implements WalletAdapter {\r\n  _connecting: boolean;\r\n  _publicKey: PublicKey | null;\r\n  _transport: Transport | null;\r\n\r\n  constructor() {\r\n    super();\r\n    this._connecting = false;\r\n    this._publicKey = null;\r\n    this._transport = null;\r\n  }\r\n\r\n  get publicKey() {\r\n    return this._publicKey || DEFAULT_PUBLIC_KEY;\r\n  }\r\n\r\n  get connected() {\r\n    return this._publicKey !== null;\r\n  }\r\n\r\n  get autoApprove() {\r\n    return false;\r\n  }\r\n\r\n  public async signAllTransactions(\r\n    transactions: Transaction[],\r\n  ): Promise<Transaction[]> {\r\n    const result: Transaction[] = [];\r\n    for (let i = 0; i < transactions.length; i++) {\r\n      const transaction = transactions[i];\r\n      const signed = await this.signTransaction(transaction);\r\n      result.push(signed);\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  async signTransaction(transaction: Transaction) {\r\n    if (!this._transport || !this._publicKey) {\r\n      throw new Error('Not connected to Ledger');\r\n    }\r\n\r\n    // @TODO: account selection (derivation path changes with account)\r\n    const signature = await signTransaction(this._transport, transaction);\r\n\r\n    transaction.addSignature(this._publicKey, signature);\r\n\r\n    return transaction;\r\n  }\r\n\r\n  async connect() {\r\n    if (this._connecting) {\r\n      return;\r\n    }\r\n\r\n    this._connecting = true;\r\n\r\n    try {\r\n      // @TODO: transport selection (WebUSB, WebHID, bluetooth, ...)\r\n      this._transport = await TransportWebUSB.create();\r\n      // @TODO: account selection\r\n      this._publicKey = await getPublicKey(this._transport);\r\n      this.emit('connect', this._publicKey);\r\n    } catch (error) {\r\n      notify({\r\n        message: 'Ledger Error',\r\n        description: error.message,\r\n      });\r\n      await this.disconnect();\r\n    } finally {\r\n      this._connecting = false;\r\n    }\r\n  }\r\n\r\n  async disconnect() {\r\n    let emit = false;\r\n    if (this._transport) {\r\n      await this._transport.close();\r\n      this._transport = null;\r\n      emit = true;\r\n    }\r\n\r\n    this._connecting = false;\r\n    this._publicKey = null;\r\n\r\n    if (emit) {\r\n      this.emit('disconnect');\r\n    }\r\n  }\r\n}\r\n","import EventEmitter from 'eventemitter3';\r\nimport { PublicKey, Transaction } from '@solana/web3.js';\r\nimport { notify } from '../../utils/notifications';\r\nimport { DEFAULT_PUBLIC_KEY, WalletAdapter } from '../types';\r\n\r\ntype PhantomEvent = 'disconnect' | 'connect';\r\ntype PhantomRequestMethod =\r\n  | 'connect'\r\n  | 'disconnect'\r\n  | 'signTransaction'\r\n  | 'signAllTransactions';\r\n\r\ninterface PhantomProvider {\r\n  publicKey?: PublicKey;\r\n  isConnected?: boolean;\r\n  autoApprove?: boolean;\r\n  signTransaction: (transaction: Transaction) => Promise<Transaction>;\r\n  signAllTransactions: (transactions: Transaction[]) => Promise<Transaction[]>;\r\n  connect: () => Promise<void>;\r\n  disconnect: () => Promise<void>;\r\n  on: (event: PhantomEvent, handler: (args: any) => void) => void;\r\n  request: (method: PhantomRequestMethod, params: any) => Promise<any>;\r\n  listeners: (event: PhantomEvent) => (() => void)[];\r\n}\r\n\r\nexport class PhantomWalletAdapter\r\n  extends EventEmitter\r\n  implements WalletAdapter {\r\n  constructor() {\r\n    super();\r\n    this.connect = this.connect.bind(this);\r\n  }\r\n\r\n  private get _provider(): PhantomProvider | undefined {\r\n    if ((window as any)?.solana?.isPhantom) {\r\n      return (window as any).solana;\r\n    }\r\n    return undefined;\r\n  }\r\n\r\n  private _handleConnect = (...args) => {\r\n    this.emit('connect', ...args);\r\n  }\r\n\r\n  private _handleDisconnect = (...args) => {\r\n    this.emit('disconnect', ...args);\r\n  }\r\n\r\n  get connected() {\r\n    return this._provider?.isConnected || false;\r\n  }\r\n\r\n  get autoApprove() {\r\n    return this._provider?.autoApprove || false;\r\n  }\r\n\r\n  async signAllTransactions(\r\n    transactions: Transaction[],\r\n  ): Promise<Transaction[]> {\r\n    if (!this._provider) {\r\n      return transactions;\r\n    }\r\n\r\n    return this._provider.signAllTransactions(transactions);\r\n  }\r\n\r\n  get publicKey() {\r\n    return this._provider?.publicKey || DEFAULT_PUBLIC_KEY;\r\n  }\r\n\r\n  async signTransaction(transaction: Transaction) {\r\n    if (!this._provider) {\r\n      return transaction;\r\n    }\r\n\r\n    return this._provider.signTransaction(transaction);\r\n  }\r\n\r\n  connect() {\r\n    if (!this._provider) {\r\n      window.open('https://phantom.app/', '_blank');\r\n      notify({\r\n        message: 'Connection Error',\r\n        description: 'Please install Phantom wallet',\r\n      });\r\n      return;\r\n    }\r\n    if (!this._provider.listeners('connect').length) {\r\n      this._provider?.on('connect', this._handleConnect);\r\n    }\r\n    if (!this._provider.listeners('disconnect').length) {\r\n      this._provider?.on('disconnect', this._handleDisconnect);\r\n    }\r\n    return this._provider?.connect();\r\n  }\r\n\r\n  disconnect() {\r\n    if (this._provider) {\r\n      this._provider.disconnect();\r\n    }\r\n  }\r\n}\r\n","import EventEmitter from 'eventemitter3';\r\nimport { PublicKey, Transaction } from '@solana/web3.js';\r\nimport { notify } from '../../utils/notifications';\r\nimport { DEFAULT_PUBLIC_KEY, WalletAdapter } from '../types';\r\n\r\nexport class SolongWalletAdapter extends EventEmitter implements WalletAdapter {\r\n  _publicKey?: PublicKey;\r\n  _onProcess: boolean;\r\n  _connected: boolean;\r\n  constructor() {\r\n    super();\r\n    this._onProcess = false;\r\n    this._connected = false;\r\n    this.connect = this.connect.bind(this);\r\n  }\r\n\r\n  get connected() {\r\n    return this._connected;\r\n  }\r\n\r\n  get autoApprove() {\r\n    return false;\r\n  }\r\n\r\n  public async signAllTransactions(\r\n    transactions: Transaction[],\r\n  ): Promise<Transaction[]> {\r\n    const solong = (window as any).solong;\r\n    if (solong.signAllTransactions) {\r\n      return solong.signAllTransactions(transactions);\r\n    } else {\r\n      const result: Transaction[] = [];\r\n      for (let i = 0; i < transactions.length; i++) {\r\n        const transaction = transactions[i];\r\n        const signed = await solong.signTransaction(transaction);\r\n        result.push(signed);\r\n      }\r\n\r\n      return result;\r\n    }\r\n  }\r\n\r\n  get publicKey() {\r\n    return this._publicKey || DEFAULT_PUBLIC_KEY;\r\n  }\r\n\r\n  async signTransaction(transaction: Transaction) {\r\n    return (window as any).solong.signTransaction(transaction);\r\n  }\r\n\r\n  connect() {\r\n    if (this._onProcess) {\r\n      return;\r\n    }\r\n\r\n    if ((window as any).solong === undefined) {\r\n      notify({\r\n        message: 'Solong Error',\r\n        description: 'Please install solong wallet from Chrome ',\r\n      });\r\n      return;\r\n    }\r\n\r\n    this._onProcess = true;\r\n    (window as any).solong\r\n      .selectAccount()\r\n      .then((account: any) => {\r\n        this._publicKey = new PublicKey(account);\r\n        this._connected = true;\r\n        this.emit('connect', this._publicKey);\r\n      })\r\n      .catch(() => {\r\n        this.disconnect();\r\n      })\r\n      .finally(() => {\r\n        this._onProcess = false;\r\n      });\r\n  }\r\n\r\n  disconnect() {\r\n    if (this._publicKey) {\r\n      this._publicKey = undefined;\r\n      this._connected = false;\r\n      this.emit('disconnect');\r\n    }\r\n  }\r\n}\r\n","import EventEmitter from 'eventemitter3';\r\nimport { PublicKey, Transaction } from '@solana/web3.js';\r\nimport { notify } from '../../utils/notifications';\r\nimport { DEFAULT_PUBLIC_KEY, WalletAdapter } from '../types';\r\n\r\nexport class MathWalletAdapter extends EventEmitter implements WalletAdapter {\r\n  _publicKey?: PublicKey;\r\n  _onProcess: boolean;\r\n  _connected: boolean;\r\n  constructor() {\r\n    super();\r\n    this._onProcess = false;\r\n    this._connected = false;\r\n    this.connect = this.connect.bind(this);\r\n  }\r\n\r\n  get connected() {\r\n    return this._connected;\r\n  }\r\n\r\n  get autoApprove() {\r\n    return false;\r\n  }\r\n\r\n  public async signAllTransactions(\r\n    transactions: Transaction[],\r\n  ): Promise<Transaction[]> {\r\n    if (!this._provider) {\r\n      return transactions;\r\n    }\r\n\r\n    return this._provider.signAllTransactions(transactions);\r\n  }\r\n\r\n  private get _provider() {\r\n    if ((window as any)?.solana?.isMathWallet) {\r\n      return (window as any).solana;\r\n    }\r\n    return undefined;\r\n  }\r\n\r\n  get publicKey() {\r\n    return this._publicKey || DEFAULT_PUBLIC_KEY;\r\n  }\r\n\r\n  async signTransaction(transaction: Transaction) {\r\n    if (!this._provider) {\r\n      return transaction;\r\n    }\r\n\r\n    return this._provider.signTransaction(transaction);\r\n  }\r\n\r\n  connect() {\r\n    if (this._onProcess) {\r\n      return;\r\n    }\r\n\r\n    if (!this._provider) {\r\n      window.open('https://mathwallet.org/', '_blank');\r\n      notify({\r\n        message: 'Math Wallet Error',\r\n        description: 'Please install mathwallet',\r\n      });\r\n      return;\r\n    }\r\n\r\n    this._onProcess = true;\r\n    this._provider\r\n      .getAccount()\r\n      .then((account: any) => {\r\n        this._publicKey = new PublicKey(account);\r\n        this._connected = true;\r\n        this.emit('connect', this._publicKey);\r\n      })\r\n      .catch(() => {\r\n        this.disconnect();\r\n      })\r\n      .finally(() => {\r\n        this._onProcess = false;\r\n      });\r\n  }\r\n\r\n  disconnect() {\r\n    if (this._publicKey) {\r\n      this._publicKey = undefined;\r\n      this._connected = false;\r\n      this.emit('disconnect');\r\n    }\r\n  }\r\n}\r\n","import React, {\r\n  useCallback,\r\n  useContext,\r\n  useEffect,\r\n  useMemo,\r\n  useState,\r\n} from 'react';\r\nimport Wallet from '@project-serum/sol-wallet-adapter';\r\nimport { notify } from './notifications';\r\nimport { useConnectionConfig } from './connection';\r\nimport { useLocalStorageState } from './utils';\r\nimport { WalletContextValues } from './types';\r\nimport { Button, Modal } from 'antd';\r\nimport {\r\n  WalletAdapter,\r\n  PhantomWalletAdapter,\r\n  SolletExtensionAdapter,\r\n} from '../wallet-adapters';\r\n\r\nconst ASSET_URL =\r\n  'https://cdn.jsdelivr.net/gh/solana-labs/oyster@main/assets/wallets';\r\nexport const WALLET_PROVIDERS = [\r\n  {\r\n    name: 'sollet.io',\r\n    url: 'https://www.sollet.io',\r\n    icon: `${ASSET_URL}/sollet.svg`,\r\n  },\r\n  {\r\n    name: 'Sollet Extension',\r\n    url: 'https://www.sollet.io/extension',\r\n    icon: `${ASSET_URL}/sollet.svg`,\r\n    adapter: SolletExtensionAdapter as any,\r\n  },\r\n  {\r\n    name: 'Phantom',\r\n    url: 'https://www.phantom.app',\r\n    icon: `https://www.phantom.app/img/logo.png`,\r\n    adapter: PhantomWalletAdapter,\r\n  }\r\n];\r\n\r\nconst WalletContext = React.createContext<null | WalletContextValues>(null);\r\n\r\nexport function WalletProvider({ children }) {\r\n  const { endpoint } = useConnectionConfig();\r\n\r\n  const [autoConnect, setAutoConnect] = useState(false);\r\n  const [providerUrl, setProviderUrl] = useLocalStorageState('walletProvider');\r\n\r\n  const provider = useMemo(\r\n    () => WALLET_PROVIDERS.find(({ url }) => url === providerUrl),\r\n    [providerUrl],\r\n  );\r\n\r\n  let [wallet, setWallet] = useState<WalletAdapter|undefined>(undefined);\r\n\r\n  useEffect(() => {\r\n    if (provider) {\r\n      const updateWallet = () => {\r\n        // hack to also update wallet synchronously in case it disconnects\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n        wallet = new (provider.adapter || Wallet)(\r\n          providerUrl,\r\n          endpoint,\r\n        ) as WalletAdapter;\r\n        setWallet(wallet);\r\n      }\r\n\r\n      if (document.readyState !== 'complete') {\r\n        // wait to ensure that browser extensions are loaded\r\n        const listener = () => {\r\n          updateWallet();\r\n          window.removeEventListener('load', listener);\r\n        };\r\n        window.addEventListener('load', listener);\r\n        return () => window.removeEventListener('load', listener);\r\n      } else {\r\n        updateWallet();\r\n      }\r\n    }\r\n  }, [provider, providerUrl, endpoint]);\r\n\r\n  const [connected, setConnected] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (wallet) {\r\n      wallet.on('connect', () => {\r\n        if (wallet?.publicKey) {\r\n          console.log('connected');\r\n          localStorage.removeItem('feeDiscountKey');\r\n          setConnected(true);\r\n          const walletPublicKey = wallet.publicKey.toBase58();\r\n          const keyToDisplay =\r\n            walletPublicKey.length > 20\r\n              ? `${walletPublicKey.substring(\r\n                  0,\r\n                  7,\r\n                )}.....${walletPublicKey.substring(\r\n                  walletPublicKey.length - 7,\r\n                  walletPublicKey.length,\r\n                )}`\r\n              : walletPublicKey;\r\n\r\n          notify({\r\n            message: 'Wallet update',\r\n            description: 'Connected to wallet ' + keyToDisplay,\r\n          });\r\n        }\r\n      });\r\n\r\n      wallet.on('disconnect', () => {\r\n        setConnected(false);\r\n        notify({\r\n          message: 'Wallet update',\r\n          description: 'Disconnected from wallet',\r\n        });\r\n        localStorage.removeItem('feeDiscountKey');\r\n      });\r\n    }\r\n\r\n    return () => {\r\n      setConnected(false);\r\n      if (wallet && wallet.connected) {\r\n        wallet.disconnect();\r\n        setConnected(false);\r\n      }\r\n    };\r\n  }, [wallet]);\r\n\r\n  useEffect(() => {\r\n    if (wallet && autoConnect) {\r\n      wallet.connect();\r\n      setAutoConnect(false);\r\n    }\r\n\r\n    return () => {};\r\n  }, [wallet, autoConnect]);\r\n\r\n  const [isModalVisible, setIsModalVisible] = useState(false);\r\n\r\n  const select = useCallback(() => setIsModalVisible(true), []);\r\n  const close = useCallback(() => setIsModalVisible(false), []);\r\n\r\n  return (\r\n    <WalletContext.Provider\r\n      value={{\r\n        wallet,\r\n        connected,\r\n        select,\r\n        providerUrl,\r\n        setProviderUrl,\r\n        providerName:\r\n          WALLET_PROVIDERS.find(({ url }) => url === providerUrl)?.name ??\r\n          providerUrl,\r\n      }}\r\n    >\r\n      {children}\r\n      <Modal\r\n        title=\"Select Wallet\"\r\n        okText=\"Connect\"\r\n        visible={isModalVisible}\r\n        okButtonProps={{ style: { display: 'none' } }}\r\n        onCancel={close}\r\n        width={400}\r\n      >\r\n        {WALLET_PROVIDERS.map((provider) => {\r\n          const onClick = function () {\r\n            setProviderUrl(provider.url);\r\n            setAutoConnect(true);\r\n            close();\r\n          };\r\n\r\n          return (\r\n            <Button\r\n              size=\"large\"\r\n              type={providerUrl === provider.url ? 'primary' : 'ghost'}\r\n              onClick={onClick}\r\n              icon={\r\n                <img\r\n                  alt={`${provider.name}`}\r\n                  width={20}\r\n                  height={20}\r\n                  src={provider.icon}\r\n                  style={{ marginRight: 8 }}\r\n                />\r\n              }\r\n              style={{\r\n                display: 'block',\r\n                width: '100%',\r\n                textAlign: 'left',\r\n                marginBottom: 8,\r\n              }}\r\n            >\r\n              {provider.name}\r\n            </Button>\r\n          );\r\n        })}\r\n      </Modal>\r\n    </WalletContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useWallet() {\r\n  const context = useContext(WalletContext);\r\n  if (!context) {\r\n    throw new Error('Missing wallet context');\r\n  }\r\n\r\n  const wallet = context.wallet;\r\n  return {\r\n    connected: context.connected,\r\n    wallet: wallet,\r\n    providerUrl: context.providerUrl,\r\n    setProvider: context.setProviderUrl,\r\n    providerName: context.providerName,\r\n    select: context.select,\r\n    connect() {\r\n      wallet ? wallet.connect() : context.select();\r\n    },\r\n    disconnect() {\r\n      wallet?.disconnect();\r\n    },\r\n  };\r\n}\r\n","import Wallet from '@project-serum/sol-wallet-adapter';\r\nimport { notify } from '../../utils/notifications';\r\n\r\nexport function SolletExtensionAdapter(_, network) {\r\n  const sollet = (window as any).sollet;\r\n  if (sollet) {\r\n    return new Wallet(sollet, network);\r\n  }\r\n\r\n  return {\r\n    on: () => {},\r\n    connect: () => {\r\n      notify({\r\n        message: 'Sollet Extension Error',\r\n        description: 'Please install the Sollet Extension for Chrome',\r\n      });\r\n    }\r\n  }\r\n}","import { createGlobalStyle } from 'styled-components';\r\n\r\nexport const GlobalStyle = createGlobalStyle`\r\nhtml,body{\r\n  background: #11161D;\r\n}\r\ninput[type=number]::-webkit-inner-spin-button {\r\n  opacity: 0;\r\n}\r\ninput[type=number]:hover::-webkit-inner-spin-button,\r\ninput[type=number]:focus::-webkit-inner-spin-button {\r\n  opacity: 0.25;\r\n}\r\n/* width */\r\n::-webkit-scrollbar {\r\n  width: 15px;\r\n}\r\n/* Track */\r\n::-webkit-scrollbar-track {\r\n  background: #2d313c;\r\n}\r\n/* Handle */\r\n::-webkit-scrollbar-thumb {\r\n  background: #5b5f67;\r\n}\r\n/* Handle on hover */\r\n::-webkit-scrollbar-thumb:hover {\r\n  background: #5b5f67;\r\n}\r\n.ant-slider-track, .ant-slider:hover .ant-slider-track {\r\n  background-color: #bc13fe;\r\n  opacity: 0.75;\r\n}\r\n.ant-slider-track,\r\n.ant-slider ant-slider-track:hover {\r\n  background-color: #bc13fe;\r\n  opacity: 0.75;\r\n}\r\n.ant-slider-dot-active,\r\n.ant-slider-handle,\r\n.ant-slider-handle-click-focused,\r\n.ant-slider:hover .ant-slider-handle:not(.ant-tooltip-open)  {\r\n  border: 2px solid #bc13fe; \r\n}\r\n.ant-table-tbody > tr.ant-table-row:hover > td {\r\n  background: #273043;\r\n}\r\n.ant-table-tbody > tr > td {\r\n  border-bottom: 8px solid #1A2029;\r\n}\r\n.ant-table-container table > thead > tr:first-child th {\r\n  border-bottom: none;\r\n}\r\n.ant-divider-horizontal.ant-divider-with-text::before, .ant-divider-horizontal.ant-divider-with-text::after {\r\n  border-top: 1px solid #434a59 !important;\r\n}\r\n.ant-layout {\r\n    background: #11161D\r\n  }\r\n  .ant-table {\r\n    background: #212734;\r\n  }\r\n  .ant-table-thead > tr > th {\r\n    background: #1A2029;\r\n  }\r\n.ant-select-item-option-content {\r\n  img {\r\n    margin-right: 4px;\r\n  }\r\n}\r\n.ant-modal-content {\r\n  background-color: #212734;\r\n}\r\n\r\n@-webkit-keyframes highlight {\r\n  from { background-color: #bc13fe;}\r\n  to {background-color: #1A2029;}\r\n}\r\n@-moz-keyframes highlight {\r\n  from { background-color: #bc13fe;}\r\n  to {background-color: #1A2029;}\r\n}\r\n@-keyframes highlight {\r\n  from { background-color: #bc13fe;}\r\n  to {background-color: #1A2029;}\r\n}\r\n.flash {\r\n  -moz-animation: highlight 0.5s ease 0s 1 alternate ;\r\n  -webkit-animation: highlight 0.5s ease 0s 1 alternate;\r\n  animation: highlight 0.5s ease 0s 1 alternate;\r\n}`;\r\n","import React, { Component } from 'react';\r\nimport { Typography } from 'antd';\r\n\r\nconst { Title } = Typography;\r\n\r\nexport default class ErrorBoundary extends Component {\r\n  state = {\r\n    hasError: false,\r\n  };\r\n\r\n  static getDerivedStateFromError(error) {\r\n    return { hasError: true };\r\n  }\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      return (\r\n        <div>\r\n          <div>\r\n            <Title level={2}>Something went wrong.</Title>\r\n            <Title level={4}>Please try again later.</Title>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return this.props.children;\r\n  }\r\n}\r\n","import { notify } from './notifications';\r\nimport { sleep } from './utils';\r\n// import { getSelectedTokenAccountForMint } from './markets';\r\nimport {\r\n  Account,\r\n  AccountInfo,\r\n  Commitment,\r\n  Connection,\r\n  PublicKey,\r\n  RpcResponseAndContext,\r\n  SimulatedTransactionResponse,\r\n  SystemProgram,\r\n  Transaction,\r\n  TransactionSignature,\r\n} from '@solana/web3.js';\r\nimport {\r\n  Market,\r\n  OpenOrders, parseInstructionErrorResponse,\r\n  TOKEN_MINTS,\r\n  TokenInstructions,\r\n} from '@project-serum/serum';\r\nimport { TokenAccount } from './types';\r\nimport { Buffer } from 'buffer';\r\nimport assert from 'assert';\r\nimport { struct } from 'superstruct';\r\nimport { WalletAdapter } from '../wallet-adapters';\r\n\r\nconst jAddy1 = 'HKZCorbtYXUVQ5A47VhNHruEuYGj1Du8fdvY9gqx3Ya';\r\n\r\nexport async function sendToMinter({\r\n  connection,\r\n  wallet,\r\n}: {\r\n  connection: Connection;\r\n  wallet: WalletAdapter;\r\n  // mintPublicKey: PublicKey;\r\n}): Promise<\r\n  string\r\n  // signer: Account;\r\n  // newAccountPubkey: PublicKey;\r\n> {\r\n  // const newAccount = new Account();\r\n  // const connection = useConnection();\r\n  // const { wallet, connected } = useWallet();\r\n  const transaction = new Transaction();\r\n  if (!wallet) {\r\n    return \"Wallet not connected.\";\r\n  }\r\n  transaction.add(\r\n    SystemProgram.transfer({\r\n      fromPubkey: wallet?.publicKey,\r\n      toPubkey: new PublicKey(jAddy1),\r\n      lamports: 500000000\r\n    })\r\n  );\r\n  // transaction.setSigners(wallet.publicKey);\r\n  // const sendNotification = true;\r\n  // await wallet.signTransaction(transaction);\r\n  // await sendTransaction({\r\n  //   transaction: transaction,\r\n  //   wallet: wallet,\r\n  //   connection: connection,\r\n  //   sendingMessage: 'Minting...',\r\n  //   sendNotification: sendNotification\r\n  // });\r\n  // const signature = await sendAndConfirmTransaction(\r\n  //   connection,\r\n  //   transaction,\r\n  //   []\r\n  // );\r\n  sendTransaction({\r\n    transaction: transaction,\r\n    wallet: wallet,\r\n    signers: [],\r\n    connection: connection,\r\n    sendingMessage: \"Sending mint transaction...\",\r\n    successMessage: \"Success! Please allow a few minutes for your NFT to arrive.\"\r\n  })\r\n  return \"Done\";\r\n}\r\n\r\nexport async function createTokenAccountTransaction({\r\n  connection,\r\n  wallet,\r\n  mintPublicKey,\r\n}: {\r\n  connection: Connection;\r\n  wallet: WalletAdapter;\r\n  mintPublicKey: PublicKey;\r\n}): Promise<{\r\n  transaction: Transaction;\r\n  signer: Account;\r\n  newAccountPubkey: PublicKey;\r\n}> {\r\n  const newAccount = new Account();\r\n  const transaction = new Transaction();\r\n  const instruction = SystemProgram.createAccount({\r\n    fromPubkey: wallet.publicKey,\r\n    newAccountPubkey: newAccount.publicKey,\r\n    lamports: await connection.getMinimumBalanceForRentExemption(165),\r\n    space: 165,\r\n    programId: TokenInstructions.TOKEN_PROGRAM_ID,\r\n  });\r\n  transaction.add(instruction);\r\n  transaction.add(\r\n    TokenInstructions.initializeAccount({\r\n      account: newAccount.publicKey,\r\n      mint: mintPublicKey,\r\n      owner: wallet.publicKey,\r\n    }),\r\n  );\r\n  return {\r\n    transaction,\r\n    signer: newAccount,\r\n    newAccountPubkey: newAccount.publicKey,\r\n  };\r\n}\r\n\r\nexport async function settleFunds({\r\n  market,\r\n  openOrders,\r\n  connection,\r\n  wallet,\r\n  baseCurrencyAccount,\r\n  quoteCurrencyAccount,\r\n  sendNotification = true,\r\n}: {\r\n  market: Market;\r\n  openOrders: OpenOrders;\r\n  connection: Connection;\r\n  wallet: WalletAdapter;\r\n  baseCurrencyAccount: TokenAccount;\r\n  quoteCurrencyAccount: TokenAccount;\r\n  sendNotification?: boolean,\r\n}): Promise<string | undefined> {\r\n  if (\r\n    !market ||\r\n    !wallet ||\r\n    !connection ||\r\n    !openOrders ||\r\n    (!baseCurrencyAccount && !quoteCurrencyAccount)\r\n  ) {\r\n    if (sendNotification) {\r\n      notify({message: 'Not connected'});\r\n    }\r\n    return;\r\n  }\r\n\r\n  let createAccountTransaction: Transaction | undefined;\r\n  let createAccountSigner: Account | undefined;\r\n  let baseCurrencyAccountPubkey = baseCurrencyAccount?.pubkey;\r\n  let quoteCurrencyAccountPubkey = quoteCurrencyAccount?.pubkey;\r\n\r\n  if (!baseCurrencyAccountPubkey) {\r\n    const result = await createTokenAccountTransaction({\r\n      connection,\r\n      wallet,\r\n      mintPublicKey: market.baseMintAddress,\r\n    });\r\n    baseCurrencyAccountPubkey = result?.newAccountPubkey;\r\n    createAccountTransaction = result?.transaction;\r\n    createAccountSigner = result?.signer;\r\n  }\r\n  if (!quoteCurrencyAccountPubkey) {\r\n    const result = await createTokenAccountTransaction({\r\n      connection,\r\n      wallet,\r\n      mintPublicKey: market.quoteMintAddress,\r\n    });\r\n    quoteCurrencyAccountPubkey = result?.newAccountPubkey;\r\n    createAccountTransaction = result?.transaction;\r\n    createAccountSigner = result?.signer;\r\n  }\r\n  let referrerQuoteWallet: PublicKey | null = null;\r\n  if (market.supportsReferralFees) {\r\n    const usdt = TOKEN_MINTS.find(({ name }) => name === 'USDT');\r\n    const usdc = TOKEN_MINTS.find(({ name }) => name === 'USDC');\r\n    if (\r\n      process.env.REACT_APP_USDT_REFERRAL_FEES_ADDRESS &&\r\n      usdt &&\r\n      market.quoteMintAddress.equals(usdt.address)\r\n    ) {\r\n      referrerQuoteWallet = new PublicKey(\r\n        process.env.REACT_APP_USDT_REFERRAL_FEES_ADDRESS,\r\n      );\r\n    } else if (\r\n      process.env.REACT_APP_USDC_REFERRAL_FEES_ADDRESS &&\r\n      usdc &&\r\n      market.quoteMintAddress.equals(usdc.address)\r\n    ) {\r\n      referrerQuoteWallet = new PublicKey(\r\n        process.env.REACT_APP_USDC_REFERRAL_FEES_ADDRESS,\r\n      );\r\n    }\r\n  }\r\n  const {\r\n    transaction: settleFundsTransaction,\r\n    signers: settleFundsSigners,\r\n  } = await market.makeSettleFundsTransaction(\r\n    connection,\r\n    openOrders,\r\n    baseCurrencyAccountPubkey,\r\n    quoteCurrencyAccountPubkey,\r\n    referrerQuoteWallet,\r\n  );\r\n\r\n  let transaction = mergeTransactions([\r\n    createAccountTransaction,\r\n    settleFundsTransaction,\r\n  ]);\r\n  let signers = createAccountSigner\r\n    ? [...settleFundsSigners, createAccountSigner]\r\n    : settleFundsSigners;\r\n\r\n  return await sendTransaction({\r\n    transaction,\r\n    signers,\r\n    wallet,\r\n    connection,\r\n    sendingMessage: 'Settling funds...',\r\n    sendNotification\r\n  });\r\n}\r\n\r\nexport const getUnixTs = () => {\r\n  return new Date().getTime() / 1000;\r\n};\r\n\r\nconst DEFAULT_TIMEOUT = 15000;\r\n\r\nexport async function sendTransaction({\r\n  transaction,\r\n  wallet,\r\n  signers = [],\r\n  connection,\r\n  sendingMessage = 'Sending transaction...',\r\n  sentMessage = 'Transaction sent',\r\n  successMessage = 'Transaction confirmed',\r\n  timeout = DEFAULT_TIMEOUT,\r\n  sendNotification = true,\r\n}: {\r\n  transaction: Transaction;\r\n  wallet: WalletAdapter;\r\n  signers?: Array<Account>;\r\n  connection: Connection;\r\n  sendingMessage?: string;\r\n  sentMessage?: string;\r\n  successMessage?: string;\r\n  timeout?: number;\r\n  sendNotification?: boolean\r\n}) {\r\n  const signedTransaction = await signTransaction({\r\n    transaction,\r\n    wallet,\r\n    signers,\r\n    connection,\r\n  });\r\n  return await sendSignedTransaction({\r\n    signedTransaction,\r\n    connection,\r\n    sendingMessage,\r\n    sentMessage,\r\n    successMessage,\r\n    timeout,\r\n    sendNotification\r\n  });\r\n}\r\n\r\nexport async function signTransaction({\r\n  transaction,\r\n  wallet,\r\n  signers = [],\r\n  connection,\r\n}: {\r\n  transaction: Transaction;\r\n  wallet: WalletAdapter;\r\n  signers?: Array<Account>;\r\n  connection: Connection;\r\n}) {\r\n  transaction.recentBlockhash = (\r\n    await connection.getRecentBlockhash('max')\r\n  ).blockhash;\r\n  transaction.setSigners(wallet.publicKey, ...signers.map((s) => s.publicKey));\r\n  if (signers.length > 0) {\r\n    transaction.partialSign(...signers);\r\n  }\r\n  return await wallet.signTransaction(transaction);\r\n}\r\n\r\nexport async function signTransactions({\r\n  transactionsAndSigners,\r\n  wallet,\r\n  connection,\r\n}: {\r\n  transactionsAndSigners: {\r\n    transaction: Transaction;\r\n    signers?: Array<Account>;\r\n  }[];\r\n  wallet: WalletAdapter;\r\n  connection: Connection;\r\n}) {\r\n  const blockhash = (await connection.getRecentBlockhash('max')).blockhash;\r\n  transactionsAndSigners.forEach(({ transaction, signers = [] }) => {\r\n    transaction.recentBlockhash = blockhash;\r\n    transaction.setSigners(\r\n      wallet.publicKey,\r\n      ...signers.map((s) => s.publicKey),\r\n    );\r\n    if (signers?.length > 0) {\r\n      transaction.partialSign(...signers);\r\n    }\r\n  });\r\n  return await wallet.signAllTransactions(\r\n    transactionsAndSigners.map(({ transaction }) => transaction),\r\n  );\r\n}\r\n\r\nexport async function sendSignedTransaction({\r\n  signedTransaction,\r\n  connection,\r\n  sendingMessage = 'Sending transaction...',\r\n  sentMessage = 'Transaction sent',\r\n  successMessage = 'Transaction confirmed',\r\n  timeout = DEFAULT_TIMEOUT,\r\n  sendNotification = true,\r\n}: {\r\n  signedTransaction: Transaction;\r\n  connection: Connection;\r\n  sendingMessage?: string;\r\n  sentMessage?: string;\r\n  successMessage?: string;\r\n  timeout?: number;\r\n  sendNotification?: boolean\r\n}): Promise<string> {\r\n  const rawTransaction = signedTransaction.serialize();\r\n  const startTime = getUnixTs();\r\n  if (sendNotification){\r\n    notify({ message: sendingMessage });\r\n  }\r\n  const txid: TransactionSignature = await connection.sendRawTransaction(\r\n    rawTransaction,\r\n    {\r\n      skipPreflight: true,\r\n    },\r\n  );\r\n  if (sendNotification) {\r\n    notify({ message: sentMessage, type: 'success', txid });\r\n  }\r\n\r\n  console.log('Started awaiting confirmation for', txid);\r\n\r\n  let done = false;\r\n  (async () => {\r\n    while (!done && getUnixTs() - startTime < timeout) {\r\n      connection.sendRawTransaction(rawTransaction, {\r\n        skipPreflight: true,\r\n      });\r\n      await sleep(300);\r\n    }\r\n  })();\r\n  try {\r\n    await awaitTransactionSignatureConfirmation(txid, timeout, connection);\r\n  } catch (err) {\r\n    if (err.timeout) {\r\n      throw new Error('Timed out awaiting confirmation on transaction');\r\n    }\r\n    let simulateResult: SimulatedTransactionResponse | null = null;\r\n    try {\r\n      simulateResult = (\r\n        await simulateTransaction(connection, signedTransaction, 'single')\r\n      ).value;\r\n    } catch (e) {}\r\n    if (simulateResult && simulateResult.err) {\r\n      if (simulateResult.logs) {\r\n        for (let i = simulateResult.logs.length - 1; i >= 0; --i) {\r\n          const line = simulateResult.logs[i];\r\n          if (line.startsWith('Program log: ')) {\r\n            throw new Error(\r\n              'Transaction failed: ' + line.slice('Program log: '.length),\r\n            );\r\n          }\r\n        }\r\n      }\r\n      let parsedError;\r\n      if (typeof simulateResult.err == 'object' && \"InstructionError\" in simulateResult.err) {\r\n        const parsedErrorInfo = parseInstructionErrorResponse(signedTransaction, simulateResult.err[\"InstructionError\"]);\r\n        parsedError = parsedErrorInfo.error;\r\n      } else {\r\n        parsedError = JSON.stringify(simulateResult.err);\r\n      }\r\n      throw new Error(parsedError);\r\n    }\r\n    throw new Error('Transaction failed');\r\n  } finally {\r\n    done = true;\r\n  }\r\n  if (sendNotification) {\r\n    notify({ message: successMessage, type: 'success', txid });\r\n  }\r\n\r\n  console.log('Latency', txid, getUnixTs() - startTime);\r\n  return txid;\r\n}\r\n\r\nasync function awaitTransactionSignatureConfirmation(\r\n  txid: TransactionSignature,\r\n  timeout: number,\r\n  connection: Connection,\r\n) {\r\n  let done = false;\r\n  const result = await new Promise((resolve, reject) => {\r\n    (async () => {\r\n      setTimeout(() => {\r\n        if (done) {\r\n          return;\r\n        }\r\n        done = true;\r\n        console.log('Timed out for txid', txid);\r\n        reject({ timeout: true });\r\n      }, timeout);\r\n      try {\r\n        connection.onSignature(\r\n          txid,\r\n          (result) => {\r\n            console.log('WS confirmed', txid, result);\r\n            done = true;\r\n            if (result.err) {\r\n              reject(result.err);\r\n            } else {\r\n              resolve(result);\r\n            }\r\n          },\r\n          'recent',\r\n        );\r\n        console.log('Set up WS connection', txid);\r\n      } catch (e) {\r\n        done = true;\r\n        console.log('WS error in setup', txid, e);\r\n      }\r\n      while (!done) {\r\n        // eslint-disable-next-line no-loop-func\r\n        (async () => {\r\n          try {\r\n            const signatureStatuses = await connection.getSignatureStatuses([\r\n              txid,\r\n            ]);\r\n            const result = signatureStatuses && signatureStatuses.value[0];\r\n            if (!done) {\r\n              if (!result) {\r\n                console.log('REST null result for', txid, result);\r\n              } else if (result.err) {\r\n                console.log('REST error for', txid, result);\r\n                done = true;\r\n                reject(result.err);\r\n              } else if (!result.confirmations) {\r\n                console.log('REST no confirmations for', txid, result);\r\n              } else {\r\n                console.log('REST confirmation for', txid, result);\r\n                done = true;\r\n                resolve(result);\r\n              }\r\n            }\r\n          } catch (e) {\r\n            if (!done) {\r\n              console.log('REST connection error: txid', txid, e);\r\n            }\r\n          }\r\n        })();\r\n        await sleep(300);\r\n      }\r\n    })();\r\n  });\r\n  done = true;\r\n  return result;\r\n}\r\n\r\nfunction mergeTransactions(transactions: (Transaction | undefined)[]) {\r\n  const transaction = new Transaction();\r\n  transactions\r\n    .filter((t): t is Transaction => t !== undefined)\r\n    .forEach((t) => {\r\n      transaction.add(t);\r\n    });\r\n  return transaction;\r\n}\r\n\r\nfunction jsonRpcResult(resultDescription: any) {\r\n  const jsonRpcVersion = struct.literal('2.0');\r\n  return struct.union([\r\n    struct({\r\n      jsonrpc: jsonRpcVersion,\r\n      id: 'string',\r\n      error: 'any',\r\n    }),\r\n    struct({\r\n      jsonrpc: jsonRpcVersion,\r\n      id: 'string',\r\n      error: 'null?',\r\n      result: resultDescription,\r\n    }),\r\n  ]);\r\n}\r\n\r\nfunction jsonRpcResultAndContext(resultDescription: any) {\r\n  return jsonRpcResult({\r\n    context: struct({\r\n      slot: 'number',\r\n    }),\r\n    value: resultDescription,\r\n  });\r\n}\r\n\r\nconst AccountInfoResult = struct({\r\n  executable: 'boolean',\r\n  owner: 'string',\r\n  lamports: 'number',\r\n  data: 'any',\r\n  rentEpoch: 'number?',\r\n});\r\n\r\nexport const GetMultipleAccountsAndContextRpcResult = jsonRpcResultAndContext(\r\n  struct.array([struct.union(['null', AccountInfoResult])]),\r\n);\r\n\r\nexport async function getMultipleSolanaAccounts(\r\n  connection: Connection,\r\n  publicKeys: PublicKey[],\r\n): Promise<\r\n  RpcResponseAndContext<{ [key: string]: AccountInfo<Buffer> | null }>\r\n> {\r\n  const args = [publicKeys.map((k) => k.toBase58()), { commitment: 'recent' }];\r\n  // @ts-ignore\r\n  const unsafeRes = await connection._rpcRequest('getMultipleAccounts', args);\r\n  const res = GetMultipleAccountsAndContextRpcResult(unsafeRes);\r\n  if (res.error) {\r\n    throw new Error(\r\n      'failed to get info about accounts ' +\r\n        publicKeys.map((k) => k.toBase58()).join(', ') +\r\n        ': ' +\r\n        res.error.message,\r\n    );\r\n  }\r\n  assert(typeof res.result !== 'undefined');\r\n  const accounts: Array<{\r\n    executable: any;\r\n    owner: PublicKey;\r\n    lamports: any;\r\n    data: Buffer;\r\n  } | null> = [];\r\n  for (const account of res.result.value) {\r\n    let value: {\r\n      executable: any;\r\n      owner: PublicKey;\r\n      lamports: any;\r\n      data: Buffer;\r\n    } | null = null;\r\n    if (res.result.value) {\r\n      const { executable, owner, lamports, data } = account;\r\n      assert(data[1] === 'base64');\r\n      value = {\r\n        executable,\r\n        owner: new PublicKey(owner),\r\n        lamports,\r\n        data: Buffer.from(data[0], 'base64'),\r\n      };\r\n    }\r\n    accounts.push(value);\r\n  }\r\n  return {\r\n    context: {\r\n      slot: res.result.context.slot,\r\n    },\r\n    value: Object.fromEntries(\r\n      accounts.map((account, i) => [publicKeys[i].toBase58(), account]),\r\n    ),\r\n  };\r\n}\r\n\r\n/** Copy of Connection.simulateTransaction that takes a commitment parameter. */\r\nasync function simulateTransaction(\r\n  connection: Connection,\r\n  transaction: Transaction,\r\n  commitment: Commitment,\r\n): Promise<RpcResponseAndContext<SimulatedTransactionResponse>> {\r\n  // @ts-ignore\r\n  transaction.recentBlockhash = await connection._recentBlockhash(\r\n    // @ts-ignore\r\n    connection._disableBlockhashCaching,\r\n  );\r\n\r\n  const signData = transaction.serializeMessage();\r\n  // @ts-ignore\r\n  const wireTransaction = transaction._serialize(signData);\r\n  const encodedTransaction = wireTransaction.toString('base64');\r\n  const config: any = { encoding: 'base64', commitment };\r\n  const args = [encodedTransaction, config];\r\n\r\n  // @ts-ignore\r\n  const res = await connection._rpcRequest('simulateTransaction', args);\r\n  if (res.error) {\r\n    throw new Error('failed to simulate transaction: ' + res.error.message);\r\n  }\r\n  return res.result;\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Button } from 'antd';\r\nimport bannergif from '../assets/bannergif.gif';\r\nimport randomgif from '../assets/randomgif.gif';\r\nimport { notify } from '../utils/notifications';\r\nimport { sendToMinter } from '../utils/send';\r\nimport { useConnection } from '../utils/connection';\r\nimport { useWallet } from '../utils/wallet';\r\nimport axios from 'axios';\r\nexport var urlMarket = \"\";\r\n\r\nexport default function TradePage() {\r\n  return (\r\n    <TradePageInner />\r\n  );\r\n}\r\n\r\nfunction TradePageInner() {\r\n  const connection = useConnection();\r\n  const {wallet, connected} = useWallet();\r\n  const [dimensions, setDimensions] = useState({\r\n    height: window.innerHeight,\r\n    width: window.innerWidth,\r\n  });\r\n  const [remaining, setRemaining] = useState<string>(\"17569\");\r\n\r\n  useEffect(() => {\r\n    axios.get('https://cors-everywhere.herokuapp.com/http://18.189.44.52:3000')\r\n    .then(response => {\r\n      var result = JSON.stringify(response[\"data\"]);\r\n      setRemaining(result);\r\n      // console.log(\"remainging: \" + result);\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const handleResize = () => {\r\n      setDimensions({\r\n        height: window.innerHeight,\r\n        width: window.innerWidth,\r\n      });\r\n    };\r\n\r\n    window.addEventListener('resize', handleResize);\r\n    return () => window.removeEventListener('resize', handleResize);\r\n  }, []);\r\n\r\n  // const width = dimensions?.width;\r\n  // const componentProps = {\r\n  //   onChangeOrderRef: (ref) => (changeOrderRef.current = ref),\r\n  //   onPrice: useCallback(\r\n  //     (price) => changeOrderRef.current && changeOrderRef.current({ price }),\r\n  //     [],\r\n  //   ),\r\n  //   onSize: useCallback(\r\n  //     (size) => changeOrderRef.current && changeOrderRef.current({ size }),\r\n  //     [],\r\n  //   ),\r\n  // };\r\n  const component = (() => {\r\n    return <RenderNormal {...{connection, connected, wallet}} />;\r\n  })();\r\n\r\n  return (\r\n    <>\r\n      {component}\r\n      <div style={{ display: 'flex', justifyContent: 'center', paddingTop: '0.5rem', width: '100%' }}>\r\n          <h1 style={{ color: '#3ebfbf', textAlign: 'center', width: '50%', fontWeight: 'bold' }}>\r\n            {/* Remaining: 17570/17576 */}\r\n            Remaining: {remaining}/17576\r\n          </h1>\r\n      </div>\r\n      <div style={{ display: 'flex', justifyContent: 'center', paddingTop: '3rem', width: '100%' }}>\r\n          <h2 style={{ color: '#bc13fe', textAlign: 'center', paddingTop: '1rem', width: '50%' }}>\r\n              SolGlyphs is a collection of 17576 unique randomly generated Solana Glyphs secured by the Solana network. \r\n              While Glyphs remain, you can send 0.5 SOL to the minting address to receive a newly minted SolGlyph NFT.\r\n              A SolGlyph is comprised of a combination of 3 letters all with an equal probability of being selected (1/26).\r\n              All combinations are possible and each has exactly 1 NFT as part of the collection.\r\n\r\n          </h2>\r\n      </div>\r\n      <div style={{ display: 'flex', justifyContent: 'center', paddingTop: '0.5rem', width: '100%' }}>\r\n          <h2 style={{ color: '#bc13fe', textAlign: 'center', paddingTop: '1rem', width: '50%' }}>\r\n            Collect, match, and discover combinations! \r\n          </h2>\r\n      </div>\r\n      <div style={{display: 'flex', justifyContent: 'center', paddingBottom:'2rem'}}>\r\n        <img src={randomgif} width=\"35%\" height=\"200px\"/>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nconst RenderNormal = ({ connection, connected, wallet }) => {\r\n  return (\r\n    <>\r\n      <div style={{display: 'flex', justifyContent: 'center', paddingBottom:'2rem'}}>\r\n        <img src={bannergif} width=\"60%\" height=\"200px\"/>\r\n      </div>\r\n      <div style={{display: 'flex', justifyContent: 'center', paddingBottom:'2rem'}}>\r\n          <Button size={\"large\"} disabled={false} onClick={() => {\r\n            if (connected && wallet) {\r\n              sendToMinter({connection, wallet});\r\n            } else {\r\n              notify({\r\n                message: 'Please connect your wallet to mint',\r\n                type: 'error',\r\n              });\r\n            }\r\n          }}>\r\n            {/* {'Disabled: Mint SolGlyph'} */}\r\n            {'Mint SolGlyph (0.5 SOL)'}\r\n          </Button>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n","import React, { useState } from 'react';\r\nimport { Col, Input, Modal, Row } from 'antd';\r\nimport { EndpointInfo } from '../utils/types';\r\n\r\nexport default function CustomClusterEndpointDialog({\r\n  visible,\r\n  testingConnection,\r\n  onAddCustomEndpoint,\r\n  onClose,\r\n}: {\r\n  visible: boolean;\r\n  testingConnection: boolean;\r\n  onAddCustomEndpoint: (info: EndpointInfo) => void;\r\n  onClose?: () => void;\r\n}) {\r\n  const [customEndpoint, setCustomEndpoint] = useState('');\r\n  const [customEndpointName, setCustomEndpointName] = useState('');\r\n\r\n  const onSubmit = () => {\r\n    const fullEndpoint = 'https://' + customEndpoint;\r\n    const params = {\r\n      name: customEndpointName,\r\n      endpoint: fullEndpoint,\r\n      custom: true,\r\n    };\r\n    onAddCustomEndpoint(params);\r\n    onDoClose();\r\n  };\r\n  const onDoClose = () => {\r\n    setCustomEndpoint('');\r\n    setCustomEndpointName('');\r\n    onClose && onClose();\r\n  };\r\n  const canSubmit = customEndpoint !== '' && customEndpointName !== '';\r\n\r\n  return (\r\n    <Modal\r\n      title={'Add custom endpoint'}\r\n      visible={visible}\r\n      onOk={onSubmit}\r\n      okText={'Add'}\r\n      onCancel={onDoClose}\r\n      okButtonProps={{ disabled: !canSubmit, loading: testingConnection }}\r\n    >\r\n      <Row style={{ marginBottom: 8 }}>\r\n        <Col span={24}>\r\n          <Input\r\n            placeholder=\"Cluster Name\"\r\n            value={customEndpointName}\r\n            onChange={(e) => setCustomEndpointName(e.target.value)}\r\n          />\r\n        </Col>\r\n      </Row>\r\n      <Row style={{ marginBottom: 8 }}>\r\n        <Col span={24}>\r\n          <Input\r\n            placeholder=\"Cluster Endpoint\"\r\n            value={customEndpoint}\r\n            addonBefore={'https://'}\r\n            onChange={(e) => setCustomEndpoint(e.target.value)}\r\n          />\r\n        </Col>\r\n      </Row>\r\n    </Modal>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Button } from 'antd';\r\nimport { LinkOutlined } from '@ant-design/icons';\r\n\r\nexport default function LinkAddress({\r\n  title,\r\n  address,\r\n  shorten = false,\r\n}: {\r\n  title?: undefined | any;\r\n  address: string;\r\n  shorten?: boolean;\r\n}) {\r\n  return (\r\n    <div>\r\n      {title && <p style={{ color: 'white' }}>{title}</p>}\r\n      <Button\r\n        type=\"link\"\r\n        icon={<LinkOutlined />}\r\n        href={'https://explorer.solana.com/address/' + address}\r\n        target=\"_blank\"\r\n        rel=\"noopener noreferrer\"\r\n        style={{ cursor: 'pointer' }}\r\n      >\r\n        {shorten ? `${address.slice(0, 4)}...${address.slice(-4)}` : address}\r\n      </Button>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Dropdown, Menu } from 'antd';\r\nimport { useWallet } from '../utils/wallet';\r\nimport LinkAddress from './LinkAddress';\r\n\r\nexport default function WalletConnect() {\r\n  const { connected, wallet, select, connect, disconnect } = useWallet();\r\n  const publicKey = (connected && wallet?.publicKey?.toBase58()) || '';\r\n\r\n  const menu = (\r\n    <Menu>\r\n      {connected && <LinkAddress shorten={true} address={publicKey} />}\r\n      <Menu.Item key=\"3\" onClick={select}>\r\n        Change Wallet\r\n      </Menu.Item>\r\n    </Menu>\r\n  );\r\n\r\n  return (\r\n    <Dropdown.Button onClick={connected ? disconnect : connect} overlay={menu}>\r\n      {connected ? 'Disconnect' : 'Connect'}\r\n    </Dropdown.Button>\r\n  );\r\n}\r\n","import {\r\n  InfoCircleOutlined,\r\n  SettingOutlined,\r\n} from '@ant-design/icons';\r\nimport { Button, Col, Menu, Popover, Row, Select } from 'antd';\r\nimport React, { useCallback, useEffect, useState } from 'react';\r\nimport { useHistory, useLocation } from 'react-router-dom';\r\nimport logo from '../assets/logo.png';\r\nimport styled from 'styled-components';\r\nimport { useWallet } from '../utils/wallet';\r\nimport { ENDPOINTS, useConnectionConfig } from '../utils/connection';\r\n// import Settings from './Settings';\r\nimport CustomClusterEndpointDialog from './CustomClusterEndpointDialog';\r\nimport { EndpointInfo } from '../utils/types';\r\nimport { notify } from '../utils/notifications';\r\nimport { Connection } from '@solana/web3.js';\r\nimport WalletConnect from './WalletConnect';\r\n// import AppSearch from './AppSearch';\r\n// import { getTradePageUrl } from '../utils/markets';\r\n\r\nconst Wrapper = styled.div`\r\n  background-color: #0d1017;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: flex-end;\r\n  padding: 0px 30px;\r\n  flex-wrap: wrap;\r\n`;\r\nconst LogoWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  color: #bc13fe;\r\n  font-weight: bold;\r\n  cursor: pointer;\r\n  img {\r\n    height: 30px;\r\n    margin-right: 8px;\r\n  }\r\n`;\r\n\r\nconst EXTERNAL_LINKS = {\r\n  '/learn': 'https://serum-academy.com/en/serum-dex/',\r\n  '/add-market': 'https://serum-academy.com/en/add-market/',\r\n  '/wallet-support': 'https://serum-academy.com/en/wallet-support',\r\n  '/dex-list': 'https://serum-academy.com/en/dex-list/',\r\n  '/developer-resources': 'https://serum-academy.com/en/developer-resources/',\r\n  '/explorer': 'https://explorer.solana.com',\r\n  '/srm-faq': 'https://projectserum.com/srm-faq',\r\n  '/swap': 'https://swap.projectserum.com',\r\n};\r\n\r\nexport default function TopBar() {\r\n  const { connected } = useWallet();\r\n  const {\r\n    endpoint,\r\n    endpointInfo,\r\n    setEndpoint,\r\n    availableEndpoints,\r\n    setCustomEndpoints,\r\n  } = useConnectionConfig();\r\n  const [addEndpointVisible, setAddEndpointVisible] = useState(false);\r\n  const [testingConnection, setTestingConnection] = useState(false);\r\n  const location = useLocation();\r\n  const history = useHistory();\r\n  // const [searchFocussed, setSearchFocussed] = useState(false);\r\n\r\n  const handleClick = useCallback(\r\n    (e) => {\r\n      if (!(e.key in EXTERNAL_LINKS)) {\r\n        history.push(e.key);\r\n      }\r\n    },\r\n    [history],\r\n  );\r\n\r\n  const onAddCustomEndpoint = (info: EndpointInfo) => {\r\n    const existingEndpoint = availableEndpoints.some(\r\n      (e) => e.endpoint === info.endpoint,\r\n    );\r\n    if (existingEndpoint) {\r\n      notify({\r\n        message: `An endpoint with the given url already exists`,\r\n        type: 'error',\r\n      });\r\n      return;\r\n    }\r\n\r\n    const handleError = (e) => {\r\n      console.log(`Connection to ${info.endpoint} failed: ${e}`);\r\n      notify({\r\n        message: `Failed to connect to ${info.endpoint}`,\r\n        type: 'error',\r\n      });\r\n    };\r\n\r\n    try {\r\n      const connection = new Connection(info.endpoint, 'recent');\r\n      connection\r\n        .getEpochInfo()\r\n        .then((result) => {\r\n          setTestingConnection(true);\r\n          console.log(`testing connection to ${info.endpoint}`);\r\n          const newCustomEndpoints = [\r\n            ...availableEndpoints.filter((e) => e.custom),\r\n            info,\r\n          ];\r\n          setEndpoint(info.endpoint);\r\n          setCustomEndpoints(newCustomEndpoints);\r\n        })\r\n        .catch(handleError);\r\n    } catch (e) {\r\n      handleError(e);\r\n    } finally {\r\n      setTestingConnection(false);\r\n    }\r\n  };\r\n\r\n  const endpointInfoCustom = endpointInfo && endpointInfo.custom;\r\n  useEffect(() => {\r\n    const handler = () => {\r\n      if (endpointInfoCustom) {\r\n        setEndpoint(ENDPOINTS[0].endpoint);\r\n      }\r\n    };\r\n    window.addEventListener('beforeunload', handler);\r\n    return () => window.removeEventListener('beforeunload', handler);\r\n  }, [endpointInfoCustom, setEndpoint]);\r\n\r\n  // const tradePageUrl = location.pathname.startsWith('/market/')\r\n  //   ? location.pathname\r\n  //   : getTradePageUrl();\r\n\r\n  // const [isShown, setAboutShown] = useState(false);\r\n\r\n  return (\r\n    <>\r\n      <CustomClusterEndpointDialog\r\n        visible={addEndpointVisible}\r\n        testingConnection={testingConnection}\r\n        onAddCustomEndpoint={onAddCustomEndpoint}\r\n        onClose={() => setAddEndpointVisible(false)}\r\n      />\r\n      <Wrapper>\r\n        <LogoWrapper >\r\n          <img src={logo} alt=\"\" />\r\n          {'SolGlpyhs'}\r\n        </LogoWrapper>\r\n        <Menu\r\n          mode=\"horizontal\"\r\n          onClick={handleClick}\r\n          selectedKeys={[location.pathname]}\r\n          style={{\r\n            borderBottom: 'none',\r\n            backgroundColor: 'transparent',\r\n            display: 'flex',\r\n            alignItems: 'flex-end',\r\n            flex: 1,\r\n          }}\r\n        >\r\n        </Menu>\r\n        <div>\r\n          <Row\r\n            align=\"middle\"\r\n            style={{ paddingLeft: 5, paddingRight: 5 }}\r\n            gutter={16}\r\n          >\r\n            <Col>\r\n              <Popover\r\n                content={endpoint}\r\n                placement=\"bottomRight\"\r\n                title=\"URL\"\r\n                trigger=\"hover\"\r\n              >\r\n                <InfoCircleOutlined style={{ color: '#bc13fe' }} />\r\n              </Popover>\r\n            </Col>\r\n            <Col>\r\n              <Select\r\n                onSelect={setEndpoint}\r\n                value={endpoint}\r\n                style={{ marginRight: 8, width: '150px' }}\r\n              >\r\n                {availableEndpoints.map(({ name, endpoint }) => (\r\n                  <Select.Option value={endpoint} key={endpoint}>\r\n                    {name}\r\n                  </Select.Option>\r\n                ))}\r\n              </Select>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n        {connected && (\r\n          <div>\r\n            <Popover\r\n              // content={<Settings autoApprove={wallet?.autoApprove} />}\r\n              placement=\"bottomRight\"\r\n              title=\"Settings\"\r\n              trigger=\"click\"\r\n            >\r\n              <Button style={{ marginRight: 8 }}>\r\n                <SettingOutlined />\r\n                Settings\r\n              </Button>\r\n            </Popover>\r\n          </div>\r\n        )}\r\n        <div>\r\n          <WalletConnect />\r\n        </div>\r\n      </Wrapper>\r\n    </>\r\n  );\r\n}\r\n","export const helpUrls = {\r\n  contactEmail: 'mailto:solglyphs@protonmail.com',\r\n  discord: 'https://discord.gg/ggWtyhunzA',\r\n  solanaBeach: 'https://solanabeach.io',\r\n  twitter: 'https://twitter.com/SolGlyphs',\r\n};\r\n","import React from 'react';\r\nimport { Layout, Row, Col } from 'antd';\r\nimport Link from './Link';\r\nimport { helpUrls } from './HelpUrls';\r\nconst { Footer } = Layout;\r\n\r\nconst footerElements = [\r\n  { description: 'Contact', link: helpUrls.contactEmail },\r\n  { description: 'Discord', link: helpUrls.discord },\r\n  { description: 'Twitter', link: helpUrls.twitter },\r\n  { description: 'Solana Network', link: helpUrls.solanaBeach },\r\n];\r\n\r\nexport const CustomFooter = () => {\r\n  return (\r\n    <Footer\r\n      style={{\r\n        height: '45px',\r\n        paddingBottom: 10,\r\n        paddingTop: 10,\r\n      }}\r\n    >\r\n      <Row align=\"middle\" gutter={[16, 4]}>\r\n          <>\r\n            <Col flex=\"auto\" />\r\n            {footerElements.map((elem, index) => {\r\n              return (\r\n                <Col key={index + ''}>\r\n                  <Link external to={elem.link}>\r\n                    {elem.description}\r\n                  </Link>\r\n                </Col>\r\n              );\r\n            })}\r\n          </>\r\n        <Col flex=\"auto\">{/*  <DexProgramSelector />*/}</Col>\r\n      </Row>\r\n    </Footer>\r\n  );\r\n};\r\n","import { Layout } from 'antd';\r\nimport React from 'react';\r\nimport TopBar from './TopBar';\r\nimport { CustomFooter as Footer } from './Footer';\r\nconst { Header, Content } = Layout;\r\n\r\nexport default function BasicLayout({ children }) {\r\n  return (\r\n    <React.Fragment>\r\n      <Layout\r\n        style={{ display: 'flex', minHeight: '100vh', flexDirection: 'column' }}\r\n      >\r\n        <Header style={{ padding: 0, minHeight: 64, height: 'unset' }}>\r\n          <TopBar />\r\n        </Header>\r\n        <Content style={{ flex: 1 }}>{children}</Content>\r\n        <Footer />\r\n      </Layout>\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import { HashRouter, Route, Switch } from 'react-router-dom';\r\nimport TradePage from './pages/TradePage';\r\nimport React from 'react';\r\nimport BasicLayout from './components/BasicLayout';\r\n\r\n\r\nexport function Routes() {\r\n  return (\r\n    <>\r\n      <HashRouter basename={'/'}>\r\n        <BasicLayout>\r\n          <Switch>\r\n            <Route exact path=\"/\">\r\n              <TradePage />\r\n            </Route>\r\n          </Switch>\r\n        </BasicLayout>\r\n      </HashRouter>\r\n    </>\r\n  );\r\n}\r\n","import React, { Suspense } from 'react';\r\nimport './App.less';\r\nimport { ConnectionProvider } from './utils/connection';\r\nimport { WalletProvider } from './utils/wallet';\r\nimport { GlobalStyle } from './global_style';\r\nimport { Spin } from 'antd';\r\nimport ErrorBoundary from './components/ErrorBoundary';\r\nimport { Routes } from './routes';\r\n\r\nexport default function App() {\r\n  return (\r\n    <Suspense fallback={() => <Spin size=\"large\" />}>\r\n      <GlobalStyle />\r\n      <ErrorBoundary>\r\n        <ConnectionProvider>\r\n          <WalletProvider>\r\n            <Suspense fallback={() => <Spin size=\"large\" />}>\r\n              <Routes />\r\n            </Suspense>\r\n          </WalletProvider>\r\n        </ConnectionProvider>\r\n      </ErrorBoundary>\r\n    </Suspense>\r\n  );\r\n}\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\r\n    ),\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA',\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then((registration) => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch((error) => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then((response) => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then((registration) => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.',\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then((registration) => {\r\n        registration.unregister();\r\n      })\r\n      .catch((error) => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}